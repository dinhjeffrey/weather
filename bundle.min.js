System.register("weatherService",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){n=function(){function e(e){this.$http=e}return e.prototype.getWeekWeather=function(e,t){return this.$http.get("//app-phoughton.rhcloud.com/weather/week/"+e+"/"+t)},e.prototype.getWeather=function(e,t){return this.$http.get("//app-phoughton.rhcloud.com/weather/day/"+e+"/"+t)},e.$inject=["$http"],e}(),e("default",n)}}}),System.register("locationService",[],function(e,t){"use strict";var n;t&&t.id;return{setters:[],execute:function(){n=function(){function e(e,t){this.$http=e,this.$q=t}return e.prototype.getLatLon=function(e){var t=this;return this.$q(function(n,r){t.$http.get("https://maps.googleapis.com/maps/api/geocode/json?address="+e).then(function(e){return n(e.data.results)}).catch(function(e){return console.log("Location HTTP error - "+e.statusText)})})},e.$inject=["$http","$q"],e}(),e("default",n)}}}),System.register("weatherComponent",[],function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("default",{bindings:{location:"<"},controller:["weatherService","locationService",function(e,t){var n=this,r=86400;this.overnight=function(e){return e>n.current.sunrise&&e>n.current.sunset&&e<n.current.sunrise+r||e<n.current.sunrise},this.$onChanges=function(r){r.location&&r.location.currentValue&&(n.current=[],t.getLatLon(r.location.currentValue).then(function(t){var r=t[0].geometry.location,i=r.lat,o=r.lng;n.place=t[0].formatted_address,e.getWeather(i,o).then(function(e){n.current=e.data,n.current.timezoneOffset=(n.current.offset>0?"+":"")+n.current.offset})}))}}],template:'\n    <div class="container-fluid">\n      <div class="row" ng-repeat="value in $ctrl.current.hourly" ng-class="::{overnight: $ctrl.overnight(value.time)}">\n        <div class="col-sm-2 col-md-2 offset-md-2" ng-bind="::value.time*1000|date:\'HH:00\':\'{{::$ctrl.current.timezoneOffset}}\'"></div>  \n        <div class="col-sm-4 col-md-2">\n          <i class="wi wi-forecast-io-{{::value.icon}}"></i>\n          <span  ng-bind="::value.temperature | number:0"></span>\n        </div>  \n        <div class="col-sm-6" ng-bind="::value.summary"></div>  \n      </div>\n    </div>\n  '})}}}),System.register("weatherWeekComponent",[],function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("default",{bindings:{location:"<"},controller:["weatherService","locationService",function(e,t){var n=this,r=86400;this.overnight=function(e){return e>n.current.sunrise&&e>n.current.sunset&&e<n.current.sunrise+r||e<n.current.sunrise},this.$onChanges=function(r){r.location&&r.location.currentValue&&(n.data=[],t.getLatLon(r.location.currentValue).then(function(t){var r=t[0].geometry.location,i=r.lat,o=r.lng;n.place=t[0].formatted_address,e.getWeekWeather(i,o).then(function(e){return n.data=e.data})}))}}],template:'\n    <div class="container-fluid">\n      <div class="row" ng-repeat="value in $ctrl.data">\n        <div class="col-sm-2" ng-bind="::value.time*1000|date:\'EEE\'"></div>  \n        <div class="col-sm-4">\n          <i class="wi wi-forecast-io-{{::value.icon}}"></i>\n          <span ng-bind="::value.temperatureMax | number:0"></span>\n        </div>  \n        <div class="col-sm-6" ng-bind="::value.summary"></div>  \n      </div>\n    </div>\n  '})}}}),System.register("weatherAppComponent",[],function(e,t){"use strict";t&&t.id;return{setters:[],execute:function(){e("default",{bindings:{location:"<"},controller:["$state",function(e){var t=this;this.newLocation=function(){return e.go(".",{location:t.location})}}],template:'\n    <form ng-submit="$ctrl.newLocation()">\n      <input type="text" ng-model="$ctrl.location" placeholder="Enter a location" required autofocus/>\n      <input type="submit" class="btn btn-primary" value="Go!"></input>\n    </form>\n    <a class="btn" ui-sref="day({location:$ctrl.location})" ui-sref-active="btn-primary">Day</a>\n    <a class="btn" ui-sref="week({location:$ctrl.location})" ui-sref-active="btn-primary">Week</a>\n  '})}}}),System.register("app",["weatherService","locationService","weatherComponent","weatherWeekComponent","weatherAppComponent"],function(e,t){"use strict";var n,r,i,o,a;t&&t.id;return{setters:[function(e){n=e},function(e){r=e},function(e){i=e},function(e){o=e},function(e){a=e}],execute:function(){angular.module("weather.app",["ui.router"]).service("weatherService",n.default).service("locationService",r.default).component("weather",i.default).component("weatherWeek",o.default).component("search",a.default).config(["$stateProvider","$urlRouterProvider",function(e,t){var n={name:"week",url:"/week/{location}",views:{header:"search",main:"weatherWeek"},resolve:{location:["$transition$",function(e){return e.params().location}]}},r={name:"day",url:"/day/{location}",views:{header:"search",main:"weather"},resolve:{location:["$transition$",function(e){return e.params().location}]}};e.state(n),e.state(r),t.otherwise("/day/London")}]).config(["$compileProvider",function(e){e.debugInfoEnabled(!1)}])}}});